<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head></head>

<body>

<div ng-if="$user">
    <div ng-controller="SkillsCtrl">

        <!-- Редагування компетенції -->
        <div ng-controller="GroupsCtrl">
            <div ng-init="getGroupTree();"></div>
        </div>
        <div ng-init="getSkill(getCurrentSkillIdSkillCtrl()); show=0"></div>

        <div ng-if="data[0].skill_name">
            <h2>Редагування компетенції:</h2>
            <h3 ng-bind="data[0].skill_name"></h3>

            <input style="margin-bottom: 10px" type="text" class="form-control" placeholder="Компетенція" ng-model="nameText">
            <textarea class="form-control" rows="5" style="margin-bottom: 10px" placeholder="Опис" ng-model="descriptionText"></textarea>

            <div class="input-group" style="margin-bottom: 10px">
                <input type="text" class="form-control" type="text" class="form-control" placeholder="Група" ng-model="groupText">
                <div class="input-group-btn">
                    <button class="btn btn-primary" ng-click="show=!show">{{onClickSelectCurrentGroup(show)}}</button>
                </div>
            </div>

            <div style="overflow-y: scroll; height: 200px" ng-show="show"><div id="tree"></div></div>

            <div style="margin-bottom: 20px"></div>

            <div style="margin-bottom: 20px" class="btn-group">
                <a href="#main"><button ng-click="saveSkill(nameText, $currentGroup.right_key, $currentGroup.node_level, descriptionText, data[0].id)" class="btn btn-primary" type="button">Зберегти</button></a>
                <a href="#main"><button class="btn btn-primary" type="button">Скасувати</button></a>
            </div>

            <h3>Список індикаторів:</h3>

            <div class="thumbnail">

                <div ng-if="data[0].indicators.length == 0">
                    <h5>Дана компетенція не містить в собі індикаторів</h5>
                </div>

                <div ng-repeat="item_indicator in data[0].indicators">
                    <div style="margin: 5px">
                        <div class="row padded">
                            <div class="col-lg-10 col-xs-10">
                                <h4>{{item_indicator.indicator_name}}</h4>
                                <h5>{{item_indicator.description}}</h5>
                            </div>
                            <div class="col-lg-2 col-xs-2">
                                <a href="#skill/{{getCurrentSkillIdSkillCtrl()}}/indicator/{{item_indicator.id}}/edit"><button class="btn btn-primary" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button></a>
                                <button ng-controller="IndicatorsCtrl" ng-click="removeIndicator(item_indicator.id); removeIndicatorFromList($index);" class="btn btn-danger" type="button"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <a href="#skill/{{data[0].id}}/indicator/create"><button ng-click="saveAdditionalData(data[0].skill_name)" class="btn btn-primary" type="button">Додати індикатор</button></a>
        </div>

        <div ng-if="data[0].skill_name == null">
            <h4>Компетенцію (id={{getCurrentSkillIdSkillCtrl()}}) не знайдено!</h4>
            <a href="#main"><button class="btn btn-primary" type="button">Назад</button></a>
        </div>
    </div>
</div>

<div ng-if="!$user">
    <div class="alert alert-info">
        <h4><b>Попередження!</b></h4>
        <p style="margin-bottom: 20px">Вибачте, дана сторінка не доступна для Вас. Щоб переглянути її, увійдіть в систему.</p>
        <a href="#main"><button class="btn btn-primary" type="button">Назад</button></a>
    </div>
</div>

</body>
</html>
